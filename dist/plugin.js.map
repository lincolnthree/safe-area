{"version":3,"file":"plugin.js","sources":["esm/controller.js","esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["import { Capacitor } from '@capacitor/core';\nexport class SafeAreaController {\n    constructor(instance) {\n        this.instance = instance;\n        this.insets = {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        };\n        this.callback = undefined;\n        this.listeners = [];\n    }\n    /**\n     * Load initial inset values and apply styles to document root.\n     */\n    load() {\n        this.unload();\n        this.callback = this.instance.addListener(\"safeAreaInsetChanged\", (insets) => {\n            this.updateInsets(insets);\n            this.injectCSSVariables();\n            this.notifyListeners();\n        });\n        return this.refresh();\n    }\n    /**\n     * Add a listener to receive callbacks when {@link EventOnInsetsChanged} events occur.\n     * TIP: Un-register listeners via {@link PluginListenerHandle.remove} when no longer needed\n     * or memory leaks will occur.\n     */\n    addListener(listener) {\n        this.listeners.push(listener);\n        return { remove: async () => this.removeListener(listener) };\n    }\n    removeListener(listener) {\n        const index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            delete this.listeners[index];\n        }\n        ;\n    }\n    /**\n     * Remove all listener registrations.\n     */\n    removeAllListeners() {\n        this.listeners.length = 0;\n    }\n    /**\n     * Detect new inset values and fire {@link EventOnInsetsChanged}.\n     */\n    async refresh() {\n        const { insets } = await this.instance.getSafeAreaInsets();\n        this.updateInsets(insets);\n        this.injectCSSVariables();\n        this.notifyListeners();\n    }\n    /**\n     * Get the current {@link SafeAreaInsets}.\n     */\n    getInsets() {\n        return this.insets;\n    }\n    /**\n     * Detach this controller from inset detection.\n     */\n    unload() {\n        var _a;\n        (_a = this.callback) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n    notifyListeners() {\n        this.listeners.forEach((listener) => listener(this.insets));\n    }\n    updateInsets(insets) {\n        this.insets = insets;\n    }\n    injectCSSVariables() {\n        for (const inset in this.insets) {\n            switch (Capacitor.getPlatform()) {\n                case \"android\":\n                case \"ios\":\n                    {\n                        document.documentElement.style.setProperty(`--${Capacitor.getPlatform()}-safe-area-inset-${inset}`, `${this.insets[inset]}px`);\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, `var(--${Capacitor.getPlatform()}-safe-area-inset-${inset}, env(safe-area-inset-${inset}))`);\n                    }\n                    break;\n                default:\n                    {\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, `env(safe-area-inset-${inset}`);\n                    }\n                    break;\n            }\n        }\n    }\n}\n;\n//# sourceMappingURL=controller.js.map",";\nexport const SafeAreaInsetsChangeEventName = \"safeAreaInsetChanged\";\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nimport { SafeAreaController } from './controller';\nconst SafeArea = registerPlugin('SafeArea', {\n    web: () => import('./web').then(m => new m.SafeAreaWeb()),\n});\nconst SafeAreaControl = new SafeAreaController(SafeArea);\nexport * from './definitions';\nexport { SafeArea, SafeAreaControl };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport { SafeAreaInsetsChangeEventName } from './definitions';\n/**\n * There should be no device inset values on Web browsers.\n */\nconst insets = {\n    top: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-top')),\n    bottom: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-bottom')),\n    left: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-left')),\n    right: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-right'))\n};\nexport class SafeAreaWeb extends WebPlugin {\n    async refresh() {\n        this.notifyListeners(SafeAreaInsetsChangeEventName, {\n            insets: insets\n        });\n    }\n    getSafeAreaInsets() {\n        return new Promise((resolve) => {\n            resolve({ insets: insets });\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["Capacitor","registerPlugin","WebPlugin"],"mappings":"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"}