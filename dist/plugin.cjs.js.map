{"version":3,"file":"plugin.cjs.js","sources":["esm/controller.js","esm/definitions.js","esm/index.js","esm/web.js"],"sourcesContent":["import { Capacitor } from '@capacitor/core';\nexport class SafeAreaController {\n    constructor(instance) {\n        this.instance = instance;\n        this.insets = {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        };\n        this.callback = undefined;\n        this.listeners = [];\n    }\n    /**\n     * Load initial inset values and apply styles to document root.\n     */\n    load() {\n        this.unload();\n        this.callback = this.instance.addListener(\"safeAreaInsetChanged\", (insets) => {\n            this.updateInsets(insets);\n            this.injectCSSVariables();\n            this.notifyListeners();\n        });\n        return this.refresh();\n    }\n    /**\n     * Add a listener to receive callbacks when {@link EventOnInsetsChanged} events occur.\n     * TIP: Un-register listeners via {@link PluginListenerHandle.remove} when no longer needed\n     * or memory leaks will occur.\n     */\n    addListener(listener) {\n        this.listeners.push(listener);\n        return { remove: async () => this.removeListener(listener) };\n    }\n    removeListener(listener) {\n        const index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            delete this.listeners[index];\n        }\n        ;\n    }\n    /**\n     * Remove all listener registrations.\n     */\n    removeAllListeners() {\n        this.listeners.length = 0;\n    }\n    /**\n     * Detect new inset values and fire {@link EventOnInsetsChanged}.\n     */\n    async refresh() {\n        const { insets } = await this.instance.getSafeAreaInsets();\n        this.updateInsets(insets);\n        this.injectCSSVariables();\n        this.notifyListeners();\n    }\n    /**\n     * Get the current {@link SafeAreaInsets}.\n     */\n    getInsets() {\n        return this.insets;\n    }\n    /**\n     * Detach this controller from inset detection.\n     */\n    unload() {\n        var _a;\n        (_a = this.callback) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n    notifyListeners() {\n        this.listeners.forEach((listener) => listener(this.insets));\n    }\n    updateInsets(insets) {\n        this.insets = insets;\n    }\n    injectCSSVariables() {\n        for (const inset in this.insets) {\n            switch (Capacitor.getPlatform()) {\n                case \"android\":\n                case \"ios\":\n                    {\n                        document.documentElement.style.setProperty(`--${Capacitor.getPlatform()}-safe-area-inset-${inset}`, `${this.insets[inset]}px`);\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, `var(--${Capacitor.getPlatform()}-safe-area-inset-${inset}, env(safe-area-inset-${inset}))`);\n                    }\n                    break;\n                default:\n                    {\n                        document.documentElement.style.setProperty(`--safe-area-inset-${inset}`, `env(safe-area-inset-${inset}`);\n                    }\n                    break;\n            }\n        }\n    }\n}\n;\n//# sourceMappingURL=controller.js.map",";\nexport const SafeAreaInsetsChangeEventName = \"safeAreaInsetChanged\";\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nimport { SafeAreaController } from './controller';\nconst SafeArea = registerPlugin('SafeArea', {\n    web: () => import('./web').then(m => new m.SafeAreaWeb()),\n});\nconst SafeAreaControl = new SafeAreaController(SafeArea);\nexport * from './definitions';\nexport { SafeArea, SafeAreaControl };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport { SafeAreaInsetsChangeEventName } from './definitions';\n/**\n * There should be no device inset values on Web browsers.\n */\nconst insets = {\n    top: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-top')),\n    bottom: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-bottom')),\n    left: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-left')),\n    right: Number.parseInt(document.documentElement.style.getPropertyValue('--safe-area-inset-right'))\n};\nexport class SafeAreaWeb extends WebPlugin {\n    async refresh() {\n        this.notifyListeners(SafeAreaInsetsChangeEventName, {\n            insets: insets\n        });\n    }\n    getSafeAreaInsets() {\n        return new Promise((resolve) => {\n            resolve({ insets: insets });\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["Capacitor","registerPlugin","WebPlugin"],"mappings":"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"}